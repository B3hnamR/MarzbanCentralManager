# 🚀 راهنمای سریع - Marzban Central Manager

## 📖 این چیه؟

**Marzban Central Manager** یک ابزار قدرتمند برای مدیریت آسان پنل‌های Marzban شماست که به شما امکان‌های زیر را می‌دهد:

- 🔧 **مدیریت نودها**: اضافه کردن، حذف، و کنترل نودهای Marzban
- 📊 **مانیتورینگ زنده**: دیدن وضعیت نودها به صورت real-time
- 🔍 **پیدا کردن خودکار**: پیدا کردن نودهای Marzban در شبکه شما
- 🎛️ **رابط آسان**: منوی تعاملی و دستورات ساده

---

## ⚡ نصب سریع

### روش 1: نصب خودکار (توصیه می‌شه)
```bash
# دانلود پروژه
git clone https://github.com/B3hnamR/MarzbanCentralManager.git
cd MarzbanCentralManager

# نصب خودکار
chmod +x install.sh
sudo ./install.sh

# اج��ا
marzban-manager
```

### روش 2: نصب دستی
```bash
# نصب وابستگی‌ها
pip install -r requirements.txt

# اجرا
python marzban_manager.py
```

---

## 🎯 اولین استفاده

### گام 1: راه‌اندازی اتصال
```bash
# اجرای برنامه
python marzban_manager.py

# در منو:
# 9. Configuration → 1. Setup Marzban Connection
# آدرس پنل: https://panel.example.com:8000
# نام کاربری: admin
# رمز عبور: your_password
```

### گام 2: اضافه کردن نود اول
```bash
# در منو:
# 1. Node Management → 3. Add New Node
# نام نود: Node-1
# آدرس IP: 192.168.1.100
# پورت: 62050
```

### گام 3: شروع مانیتورینگ
```bash
# در منو:
# 2. Live Monitoring → 1. Start Live Monitoring
# فاصله زمانی: 30 ثانیه
```

---

## 🎮 نحوه استفاده

### 🖥️ حالت منوی تعاملی (آسان‌ترین روش)

```bash
python marzban_manager.py
```

بعد از اجرا، منوی زیر رو می‌بینید:

```
🚀 Marzban Central Manager v4.0
Professional API-Based Management System

  1. 🔧 Node Management        # مدیریت نودها
  2. 📊 Live Monitoring        # مانیتورینگ زنده  
  3. 🔍 Auto Discovery        # پید�� کردن خودکار
  4. ⚙️  Configuration         # تنظیمات
  5. 📊 System Status          # وضعیت سیستم
  0. 🚪 Exit                   # خروج
```

### 💻 حالت خط فرمان (برای کاربران پیشرفته)

```bash
# مدیریت نودها
python main.py node list                    # لیست نودها
python main.py node add --name "Node1"      # اضافه کردن نود

# مانیتورینگ
python main.py monitor start               # شروع مانیتورینگ
python main.py monitor alerts              # نمایش هشدارها

# کشف خودکار
python main.py discover network            # پیدا کردن نودها
python main.py discover candidates         # نودهای احتمالی
```

---

## 🔧 عملیات اصلی

### 1️⃣ مدیریت نودها

#### ➕ اضافه کردن نود جدید
```
منو → 1. Node Management → 3. Add New Node

اطلاعات مورد نیاز:
- نام نود: یک نام دلخواه (مثل Node-Tehran)
- آدرس IP: آدرس سرور نود (مثل 192.168.1.100)
- پورت نود: معمولاً 62050
- پورت API: معمولاً 62051
```

#### 📋 مشاهده لیست نودها
```
منو → 1. Node Management → 1. List All Nodes

نمایش:
- وضعیت هر نود (م��صل/قطع)
- آدرس IP و پورت
- آخرین بار آنلاین بودن
```

#### 🔄 اتصال مجدد نود
```
منو → 1. Node Management → 6. Reconnect Node
شماره نود را وارد کنید
```

### 2️⃣ مانیتورینگ زنده

#### 🚀 شروع مانیتورینگ
```
منو → 2. Live Monitoring → 1. Start Live Monitoring

تنظیمات:
- فاصله زمانی: 30 ثانیه (توصیه می‌شه)
- نمایش: وضعیت real-time همه نودها
- هشدارها: اطلاع‌رسانی خودکار مشکلات
```

#### 🚨 مشاهده هشدارها
```
منو → 2. Live Monitoring → 3. View Alerts

انواع هشدار:
- 🔴 Critical: مشکلات جدی (نود قطع شده)
- 🟡 Warning: هشدارهای عادی (پاسخ کند)
- 🔵 Info: اطلاعات عمومی
```

#### 📈 خلاصه سلامت سیستم
```
منو → 2. Live Monitoring → 4. Health Summary

نمایش:
- تعداد کل نودها
- نودهای سالم/ناسالم
- درصد سلامت کل سیستم
```

### 3️⃣ کشف خودکار نودها

#### 🌐 اسکن شبکه محلی
```
منو → 3. Auto Discovery → 1. Scan Local Network

عملیات:
- پیدا کردن خودکار دستگاه‌ها در شبکه
- تشخیص نودهای Marzban
- نمایش لیست کاندیدها
```

#### 🎯 نمایش کاندیدهای Marzban
```
منو → 3. Auto Discovery → 5. Marzban Candidates

نمایش:
- IP addresses احتمالی
- درصد اطمینان
- پورت‌های باز
- توصیه برای اضافه کردن
```

#### ➕ اضافه کردن نود کشف شده
```
منو → 3. Auto Discovery → 7. Add Discovered Node

مراحل:
1. انتخاب از لیست کاندیدها
2. تایید اطلاعات
3. اضافه کردن خودکار به سیستم
```

---

## 🔧 تنظیمات مهم

### ⚙️ پیکربندی اتصال Marzban
```
منو → 9. Configuration → 1. Setup Marzban Connection

اطلاعات مورد نیاز:
- آدرس پنل: https://your-panel.com:8000
- نام کاربری: admin (یا نام ادمین شما)
- رمز عبور: رمز ادمین پنل
```

### 🔍 تست اتصال
```
منو → 9. Configuration → 3. Test Connection

بررسی:
- اتصال به پنل Marzban
- صحت نام کاربری و رمز
- دسترسی به API
```

---

## 🚨 حل مشکلات رایج

### ❌ خطای اتصال به پنل
```
علت: آدرس یا رمز اشتباه
حل: منو → Configuration → Setup Marzban Connection
```

### ❌ نود پیدا نمی‌شه
```
علت: نود خاموش یا تنظیمات اشتباه
حل: 
1. بررسی آدرس IP نود
2. بررسی پورت‌ها (62050, 62051)
3. تست ping به نود
```

### ❌ مانیتورینگ کار نمی‌کنه
```
علت: مشکل در اتصال یا تنظیمات
حل:
1. تست اتصال پنل
2. بررسی وضعیت نودها
3. راه‌اندازی مجدد مانیتورینگ
```

### ❌ کشف خودکار نود پیدا نمی‌کنه
```
علت: نود در شبکه دیگر یا خاموش
حل:
1. استفاده از Deep Scan
2. اسکن محدوده IP مشخص
3. بررسی دستی IP نود
```

---

## 💡 نکات مفید

### ⚡ بهترین تنظیمات

1. **مانیتورینگ**: فاصله 30 ثانیه برای استفاده عادی
2. **کشف خودکار**: استفاده از Deep Scan برای دقت بیشتر
3. **تنظیمات**: ذخیره backup از تنظیمات مهم

### 🎯 استفاده بهینه

1. **شروع روز**: چک کردن Health Summary
2. **مانیتورینگ**: نگه داشتن مانیتورینگ روشن در ساعات کاری
3. **هشدارها**: بررسی منظم alerts
4. **کشف**: اسکن هفتگی برای نودهای جدید

### 🔒 امنیت

1. **رمز عبور**: استفاده از رمز قوی برای پنل
2. **دسترسی**: محدود کردن دسترسی به سرور مدیریت
3. **لاگ**: بررسی منظم لاگ‌های سیستم

---

## 📞 دریافت کمک

### 🐛 گزارش مشکل
- GitHub Issues: [لینک مخزن](https://github.com/B3hnamR/MarzbanCentralManager/issues)
- ایمیل: behnamrjd@gmail.com

### 📚 مستندات بیشتر
- راهنمای کامل: `README.md`
- راهنمای معماری: `ARCHITECTURE.md`
- تاریخچه تغییرات: `CHANGELOG.md`

### 💬 انجمن و پشتیبانی
- GitHub Discussions
- Telegram Channel (اگر موجود باشد)

---

## 🎉 تبریک!

حالا شما آماده استفاده از **Marzban Central Manager** هستید! 

با این ابزار می‌تونید:
- ✅ نودهاتون رو راحت مدیریت کنید
- ✅ وضعیت سیستم رو real-time ببینید  
- ✅ نودهای جدید رو خودکار پیدا کنید
- ✅ از مشکلات زودتر باخبر بشید

**موفق باشید! 🚀**